# Sticker Sender Bot

Простой Telegram-бот, который бесконечно отправляет случайные стикеры в группу.

## Почему раньше падало

Ваши строки `CAACAg...` — это Bot API `file_id`. Telethon (MTProto) часто не принимает такие значения как файл в `send_file`, из-за чего и была ошибка конвертации media.

В этом проекте отправка сделана через **Telegram Bot API** (`sendSticker`), где эти `file_id` поддерживаются.

## Что нужно

- Python 3.10+
- Бот добавлен в нужную группу и имеет право отправлять стикеры

## Варианты настройки группы

1. **Рекомендуется:** указать `GROUP_CHAT_ID` вручную в `bot.py` (обычно формат `-100...`).
2. Если `GROUP_CHAT_ID = None`, скрипт попробует взять id группы из `getUpdates`:
   - добавьте бота в группу,
   - отправьте в группу любое сообщение,
   - запустите скрипт.

> Если видите положительный `chat_id`, это часто id пользователя/бота, а не группы.

## Установка

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Запуск

```bash
python bot.py
```

## Настройка (`bot.py`)

- `BOT_TOKEN`
- `GROUP_CHAT_ID` (можно `None` для автоопределения)
- `SEND_INTERVAL_SECONDS`
- `REQUEST_TIMEOUT_SECONDS`

`GROUP_LINK` оставлен как справочное поле и не используется для резолва чата.

## Разбор типичных ошибок (в том числе из "другого бота")

- `HTTP 400` при `sendSticker` с id вроде `213194997` или `temp_...`:
  это **не** Bot API `file_id` стикера. Для `sendSticker` нужны значения формата `CAAC...`.
- `PeerIdInvalidError`:
  это ошибка MTProto/Telethon (обычно неверный peer/chat). В этом проекте используется Bot API,
  но смысл тот же: чаще всего указан неверный `chat_id` или бот не состоит в группе.

Проверки перед запуском:

1. `GROUP_CHAT_ID` у группы обычно имеет вид `-100...`.
2. Бот реально добавлен в группу.
3. Боту выданы права отправки сообщений/стикеров.
4. В `STICKERS` только валидные `file_id` (строки `CA...`, а не цифры и не `temp_*`).
